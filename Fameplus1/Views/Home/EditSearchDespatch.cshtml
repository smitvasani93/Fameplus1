@using Transactiondetails.Models;
@model IEnumerable<sp_GetSelectedDespatchData_Result>
@*<span class="close" style="margin-right: 41px;" id="spanEdit">&times;</span>*@
@{
    int row = 1;

}

<div class="card-body" style="display:block">
    <div>
        <div style=" display: inline-block;float: left;margin-top: 6px;"><h5>Despatch Date<span class="req"></span></h5></div>
        <div style=" float: left; display: inline-block; margin-left: 12px;">
            <input type="date" class="form-control"  name="referenceDate" id="referenceDate" required />
        </div>

        <div style="display: inline-block;float: left;margin-top: 6px;margin-left: 30px;"><h5>Despatch No</h5></div>
        <div style=" float: left; display: inline-block; margin-left: 12px;">
            <input type="text" class="form-control" value="@TempData["serialNo"]" id="recieptNo">
        </div>
        <br />
        <br />
        <br />
        <div style="display: inline-block;float: left;margin-top: 6px;"><h5>Customer Name<span class="req"></span></h5></div>
        <div style=" float: left; display: inline-block; margin-left: 12px;">
            @*<input type="text" class="form-control">*@
            @Html.DropDownList("AccountCode", new SelectList(ViewBag.Customer, "AccountCode", "AccountName", TempData["AccountCode"]), "Please select", new { @id = "ddlCustomer", @class = "form-select", required = (string)null, @ng_model = "AccountCode" })
        </div>
        <br />
        <br />
        <br />
        <div style="float: left;margin-top: 6px;"><h5>Reciept No<span class="req"></span></h5></div>
        <div style=" float: left;  margin-left: 12px;">
            @*<input type="text" class="form-control">*@
            @Html.DropDownList("AccountCode", new SelectList(ViewBag.Customer, "AccountCode", "AccountName", TempData["AccountCode"]), "Please select", new { @id = "ddlCustomer", @class = "form-select", required = (string)null, @ng_model = "AccountCode" })
        </div>

    </div>
    <div class="card-body px-3 py-4-5">


        <br />
        <div id="despatchDiv" style="overflow: scroll;">
            <table id="exampleSearch" class="table table-bordered mb-0" style="width:100%;overflow-y:scroll">
                <thead>
                    <tr>
                        <th style="display:none">ItemSerialNumber</th>
                        <th>Delete</th>
                        <th>Process</th>
                        <th>Packet No</th>
                        <th>Pieces</th>
                        <th>Carats</th>
                        <th>Lines</th>
                        <th>Pieces Despatch</th>
                        <th>Carats Despatch</th>
                        <th>Lines Despatch</th>
                        <th>WeightLoss</th>
                        <th>Status</th>
                        <th>Billing Unit</th>
                        <th>Billing Quantity</th>
                        <th>NoCharge Quantity</th>
                        <th>Rate</th>
                        <th>Remarks</th>
                    </tr>
                </thead>
                @foreach (var item in Model)
                {
                    <tr>
                        <td style="display:none"><input type="text" class="form-control" id="0" value="@item.ItemSerialNumber"></td>
                        <td class="plsRow" id="@row"><a class="deleteRow" href="#"><i class="fa fa-trash"></i></a></td>
                        <td>
                            @Html.DropDownList("ProcessCode", new SelectList(ViewBag.Process, "ProcessCode", "ProcessName", @item.ProcessCode), "Please select", new { @id = "ddlProcess", @class = "form-selectDespatch" })
                        </td>
                        <td><input type="text" class="form-controlDispatch" id="1" value="@item.PacketNumber"></td>
                        <td><input type="text" class="form-controlDispatch" id="2" value="@item.ItemPieces"></td>
                        <td><input type="text" class="form-controlDispatch" id="3" value="@item.ItemCarats"></td>
                        <td><input type="text" class="form-controlDispatch" id="4" value="@item.ItemLines"></td>
                        <td><input type="text" class="form-controlDispatch" id="5" value="@item.JDItemPieces"></td>
                        <td><input type="text" class="form-controlDispatch" id="6" value="@item.JDItemCarats"></td>
                        <td><input type="text" class="form-controlDispatch" id="7" value="@item.JDItemLines"></td>
                        <td><input type="text" class="form-controlDispatch" id="8" value="@item.WeightLoss"></td>
                        <td><input type="text" class="form-controlDispatch" id="9" value="@item.PacketStatus"></td>
                        <td><input type="text" class="form-controlDispatch" id="10" value="@item.BillingQuantity"></td>
                        <td><input type="text" class="form-controlDispatch" id="11" value="@item.NoChargeQuantity"></td>
                        <td><input type="text" class="form-controlDispatch" id="12" value="@item.BillingRate"></td>
                        <td><input type="text" class="form-controlDispatch" id="13" value="@item.Remarks"></td>
                        <td><input type="text" class="form-controlDispatch" id="14" value="@item.Remarks"></td>

                    </tr>
                    row++;
                }

            </table>

        </div>

    </div>
</div>
<script>
    $(function () {

        let rowCount = 1;

        $("#exampleSearch").on('click', '.deleteRow', function () {
            if (1 != $('#exampleSearch >tbody >tr').length)
                $(this).parent().parent().remove();
        });

     
    });
</script>

